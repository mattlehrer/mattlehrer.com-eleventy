{% set navPages = collections.all | eleventyNavigation %}

<!-- Based on https://tailwindui.com/components/application-ui/layout/media-objects#component-ef9df725bf54aa2d268260c36ef2bbb5 -->

<nav x-data="{ open: false }" class="mt-6 mb-10 sm:my-16">
  <div class="">
    <div class="flex space-x-4 sm:space-x-6">
      <div class="self-start flex-shrink-0">
        <a class="block" href="/">
          {% image "src/static/images/default_img.png", "Photo of Matt", "mt-2
          sm:mt-1 h-20 w-20 sm:h-32 sm:w-32 rounded-xl shadow", "(min-width:
          640px) 128px, 80px" %}
        </a>
      </div>
      <div class="self-start">
        <div class="flex flex-row items-center justify-between">
          <h1
            id="nav-name"
            class="text-3xl font-medium align-middle sm:text-4xl"
          >
            Matt Lehrer
          </h1>
          <div class="flex items-center -mr-2 sm:hidden">
            <!-- Mobile menu button -->
            <button
              @click="open = true"
              class="inline-flex items-center justify-center p-2 text-gray-400 rounded-md hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
              aria-expanded="false"
            >
              <span class="sr-only">Open main menu</span>
              <svg
                class="w-6 h-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <!-- Icon when menu is closed. -->
                <!--	Heroicon name: menu -->
                <path
                  x-show="!open"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
                <!-- Icon when menu is open. -->
                <!--	Heroicon name: x -->
                <path
                  x-show="open"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
        </div>
        <p class="pr-10 mt-1 mr-2 tracking-tight sm:pr-12 sm:mr-0">
          Dad. Husband. Beta and taste tester. I'm
          <a href="http://www.quicksilvercre.com"
            >helping real estate investors</a
          >
          avoid spending as much time in Excel as I have.
        </p>
        <p>
          Say hi on
          <a
            href="https://www.twitter.com/mattlehrer"
            class="pb-px text-gray-800 dark:text-gray-300"
          >
            <span class="sr-only">Twitter</span>
            <svg
              class="inline-block w-5 h-5 align-middle"
              fill="currentColor"
              viewBox="0 0 20 20"
              aria-hidden="true"
            >
              <path
                d="M20,1.89415385 C19.25625,2.21538462 18.46375,2.42830769 17.6375,2.53169231 C18.4875,2.032 19.13625,1.24676923 19.44125,0.300307692 C18.64875,0.765538462 17.77375,1.09415385 16.84125,1.27753846 C16.08875,0.488615385 15.01625,0 13.84625,0 C11.57625,0 9.74875,1.81415385 9.74875,4.03815385 C9.74875,4.35815385 9.77625,4.66584615 9.84375,4.95876923 C6.435,4.79507692 3.41875,3.18646154 1.3925,0.736 C1.03875,1.34030769 0.83125,2.032 0.83125,2.77661538 C0.83125,4.17476923 1.5625,5.41415385 2.6525,6.13169231 C1.99375,6.11938462 1.3475,5.93107692 0.8,5.63446154 C0.8,5.64676923 0.8,5.66276923 0.8,5.67876923 C0.8,7.64061538 2.22125,9.27015385 4.085,9.64553846 C3.75125,9.73538462 3.3875,9.77846154 3.01,9.77846154 C2.7475,9.77846154 2.4825,9.76369231 2.23375,9.70953846 C2.765,11.3083077 4.2725,12.4836923 6.065,12.5218462 C4.67,13.5963077 2.89875,14.2436923 0.98125,14.2436923 C0.645,14.2436923 0.3225,14.2289231 0,14.1883077 C1.81625,15.3415385 3.96875,16 6.29,16 C13.835,16 17.96,9.84615385 17.96,4.512 C17.96,4.33353846 17.95375,4.16123077 17.945,3.99015385 C18.75875,3.42153846 19.4425,2.71138462 20,1.89415385 Z"
              ></path></svg
          ></a>
          or
          <a
            href="mailto:hi@mattlehrer.com"
            class="pb-px text-gray-800 dark:text-gray-300"
          >
            <span class="sr-only">Email</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              class="inline-block w-5 h-5 align-text-top"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
              />
              <path
                d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
              /></svg></a
          >.
        </p>
        <p id="nav" class="hidden h-10 sm:flex sm:space-x-8 sm:flex-wrap">
          {% for entry in navPages %}
          <a
            href="{{ entry.url }}"
            class="{{'border-yellow-600 text-gray-900 dark:text-gray-50 border-solid' if entry.url in page.url
							else 'text-gray-500 border-gray-400 dark:border-gray-300 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-50 hover:border-solid'}}"
          >
            {{ entry.title }}
          </a>
          {% endfor %}
        </p>
      </div>
    </div>
  </div>
  <!--
    Mobile menu, toggle classes based on menu state.

    Menu open: "block", Menu closed: "hidden"
  -->
  <div
    x-show.transition.in.duration.200ms.origin.top.right.scale.85.out.duration.100ms.origin.top.right.scale.85="open"
    @click.away="open = false"
    x-bind:class="{ 'block': open, 'hidden': !open }"
    class="hidden -mx-6 sm:hidden"
  >
    <div class="py-3 space-y-1">
      <a
        href="/"
        class="block pr-10 text-right py-2 border-r-4 text-base font-medium
				{{'bg-yellow-50 dark:bg-yellow-300 dark:text-yellow-900 border-yellow-500 text-yellow-700' if page.url === '/'
				else 'border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 dark:text-gray-300'}}"
        >Home</a
      >
      {% for entry in navPages %}
      <a
        href="{{ entry.url }}"
        class="block pr-10 text-right py-2 border-r-4 text-base font-medium
							{{'bg-yellow-50 dark:bg-yellow-300 dark:text-yellow-900 border-yellow-500 text-yellow-700' if entry.url in page.url
							else 'border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 dark:text-gray-300'}}"
      >
        {{ entry.title }}
      </a>
      {% endfor %}
    </div>
  </div>
</nav>
